# Enable mod_rewrite
RewriteEngine On
RewriteBase /

# Serve index.html for directory root
DirectoryIndex index.html

# 1) Redirect any .html URL to extensionless canonical URL (301)
# Example: /about.html  -> /about
RewriteCond %{THE_REQUEST} \s/([^\s]+?)\.html[?\s] [NC]
RewriteRule ^ /%1 [R=301,L]

# 2) Internally rewrite extensionless requests to existing .html files
# Example: /about  -> internally serve /about.html
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME}.html -f
RewriteRule ^(.*?)/?$ $1.html [L]